# Simulation for Memory Management

## Usage

Configure the follow values as you wish in `simlru.h`.

```
// simulation control
MEM_SIZE
PROC_MAX
PROC_SIZE_MAX
PAGE_SIZE 
PAGE_NUM
RSS 10

// output control
PRINT_PAGE
PRINT_LRU
```

Then build the source and start your test.

```
make
./test
```

## Result

```
Simulation for Memory Management
------------------------------
Bacis information:
mem_size: 1073741824  page_size: 4096  page_num: 262144  rss: 10
proc_max: 10  proc_size_max: 1048576
------------------------------
Number of process: 2
2 process created
241 page allocated
Access orders allocated
------------------------------
PID: 0  size: 397548  n_page: 98
FLAGS: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 
ORDERS: 72 33 55 63 59 4 22 44 87 58 96 52 45 97 79 54 84 42 42 68 86 37 4 92 4 79 14 61 28 29 77 56 62 35 21 77 93 97 23 82 13 22 36 58 75 72 14 61 70 13 85 58 6 90 8 11 71 22 28 2 51 8 14 69 97 90 4 92 89 82 76 5 60 68 19 37 42 88 1 68 57 86 82 63 78 90 30 8 68 59 64 75 67 78 46 22 70 7 

PID: 1  size: 581833  n_page: 143
FLAGS: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 
ORDERS: 66 90 105 81 75 121 29 4 43 11 82 101 63 14 95 76 127 45 77 67 117 132 67 136 41 87 73 109 47 35 7 89 101 88 27 9 42 57 14 85 68 96 20 107 87 115 16 71 17 94 114 111 59 15 104 100 102 10 42 126 46 25 72 123 89 100 133 131 133 123 50 34 52 70 141 139 18 15 67 11 85 15 122 1 30 84 77 108 94 96 67 116 97 140 97 44 73 63 32 39 19 82 73 71 128 47 68 3 38 111 15 123 126 137 100 132 54 35 74 6 107 141 98 61 114 28 105 20 91 138 59 110 53 108 15 39 13 83 42 51 27 33 32 

page_used: 0
------------------------------
Simulation begin
------------------------------
PID: 0  RS:  72 
PID: 1  RS:  66 
PID: 0  RS:  72  33 
PID: 1  RS:  66  90 
PID: 0  RS:  72  33  55 
PID: 1  RS:  66  90 105 
PID: 0  RS:  72  33  55  63 
PID: 1  RS:  66  90 105  81 
PID: 0  RS:  72  33  55  63  59 
PID: 1  RS:  66  90 105  81  75 
PID: 0  RS:  72  33  55  63  59   4 
PID: 1  RS:  66  90 105  81  75 121 
PID: 0  RS:  72  33  55  63  59   4  22 
PID: 1  RS:  66  90 105  81  75 121  29 
PID: 0  RS:  72  33  55  63  59   4  22  44 
PID: 1  RS:  66  90 105  81  75 121  29   4 
PID: 0  RS:  72  33  55  63  59   4  22  44  87 
PID: 1  RS:  66  90 105  81  75 121  29   4  43 
PID: 0  RS:  72  33  55  63  59   4  22  44  87  58 
PID: 1  RS:  66  90 105  81  75 121  29   4  43  11 
PID: 0  RS:  96  33  55  63  59   4  22  44  87  58 
PID: 1  RS:  82  90 105  81  75 121  29   4  43  11 
...
------------------------------
PID: 0  miss_page_rate(88 / 98): 0.897959
RSS: 10  n_order: 98  n_page_fault: 88  n_page_access: 98

PID: 1  miss_page_rate(136 / 143): 0.951049
RSS: 10  n_order: 143  n_page_fault: 136  n_page_access: 143

AVG(miss_page_rate): 0.924504
```